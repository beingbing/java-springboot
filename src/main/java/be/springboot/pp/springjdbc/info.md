# JDBC
- Java DataBase Connectivity
- one of the primary goals of JDBC is to help us abstract out network calls made from application server to DB server.
- open-close principle dictates that we should be open for extension but close for modification.
- our application should be able to extend to new DB vendors, we should not need to change the code if we change vendor.
- we can achieve this by using interfaces
- if there were some common interfaces which was implemented by all the DB vendor, so whichever DB we want to connect with, we just need to provide the configuration details instead of modifying our interaction code.
- our application will be interacting with these common interfaces.
- JDBC is these common interfaces.
- JDBC is a complete package which contain this common interfaces as well.
- JDBC comes with JDK, we do not need to install anything by ourselves.

## Interfaces
- Driver: drives connection using `connect()` from application server to db server
- DriverManager: establishes a connection with DB server using `getConnection()`. Creates object of vendor specific Drivers, and maintains a list of registered drivers.
- ResultSet: functions like a Buffer, if result has too many rows, complete collection is maintained on DB server and a subset is populated in ResultSet.

### Notes:
- every query creates physical resource on DB server as well, Java application has garbage collection but DB do not, so close all connections.
- By default, only one `ResultSet` object per `Statement` object can be open at the same time. Therefore, if the reading of one `ResultSet` object is interleaved with the reading of another, each must have been generated by different `Statement` objects. All execution methods in the `Statement` interface implicitly close a current `ResultSet` object of the statement if an open one exists.
- `SENSETIVE`: sensitive to change in underlying DB table (if a new row is added which should be in current `ResultSet`, then it will be added)
- `INSENSITIVE` is opposite of `SENSITIVE`
- `CONCUR_READ_ONLY`: you can not update `ResultSet` while reading
- `CONCUR_UPDATABLE`: you can make update query on the `ResultSet`
- updates are batched and done in bulk in intervals instead of sending every update as soon as it is made from application to DB.
- making connection every time executing query is a time and resource consuming process so will try to maintain a connection pool, for that we will use TomCat JDBC.
- connection-pool will work exactly like thread-pool conceptually.
- internally connection pool is a Semaphore of connection objects. If threads pick same connection from connection pool, then there can be race condition. Semaphore makes sure it do not happen.

### exercise
- practice using `ResultSet` `updateRow()`, `moveToInsertRow()`, `moveToCurrentRow()`, `insertRow()`
- practice using `PreparedStatement()`
