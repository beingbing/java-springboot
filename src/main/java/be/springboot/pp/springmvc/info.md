### Q. What is HTTP ?
- application layer protocol
- stands for HyperText Transfer Protocol
- HyperText = Structured-Text + Links
- An HTTP request contains some sort of links/url/path. Like, 'GET /book/anything.html'
- Text present in an HTTP request has distinct components with unique objective.
- stateless protocol: server do not keep any context about client in between requests.

### Q. If HTTP is stateless then how recommendation system works ?
- using cookies/tokens
- It goes as a part of HTTP request and helps server form a unique response tailored for you using info stored in your cookies/tokens

## Components of a Request
- Method: GET, POST, PUT, PATCH, etc.
- URL: Uniform Resource Locator
- Version: 
- Headers: It contains additional information. Like,
  - Content-Type: 
- Body: (Optional)
- request-path:
- request-params:

## Components of a Response
- Status-code:
- Status-message:
- Header:
- Body:

## Servlet
- all these interactions are handled by Server, from now on which will be called Servlet-container.
- Example of HTTP servers (servlet-containers): TomCat, Jetty
- Servlet: anything that says 'let us server'.
- It is entry point of application for taking handover of a request and forwarding it.
- Servlet is an interface with three important methods -
  - `init()`: initialize a servlet with all required dependencies
  - `service()`: accepts a request and forwards it to appropriate handler, gets a response from there and translates it back to an HTTP response and serves back to OS.
  - `destroy()`: servlet is shut down.
- Servlet-containers creates servlets.
- `Process finished with exit code 0` means no server initialized. A process ran and exited.
- In old days, a JAR was generated by `mvn install` which then was deployed
  - this violates containerisation.
  - had a lot of issues -
    - like Java version of server and application can be different.
    - SPOF
    - separate server configuration for each application is not possible  
  - had some benefits as well -
    - multiple application can be run on it.
- Containerisation: everything is bundled in a container, so application and server shares same environment.

## Dispatcher Servlet
- Tomcat world ends and spring world begins as soon as request enters dispatcher-servlet.
- Servlet passes request to spring-mvc
- the component in spring-mvc which receives the request from servlet is called 'Dispatcher Servlet'
- Dispatcher-servlet forwards request to a particular controller
- Dispatcher-servlet keeps all request-mapping
- this Dispatcher-servlet design pattern is called 'Front Controller'
- Dispatcher-servlet => Interceptor => Controller => Interceptor => Dispatcher-servlet => Tomcat

## Interceptor
- it is an interface called HandlerInterceptor
- `preHandle()` is invoked before request is handed over to controller
- `postHandler()` is invoked when Controller hands over response to Interceptor
- there purpose is to take care of cross-cutting concerns
- cross-cutting concerns: concerns not related to regular algorithms/business-logic
- concerns related to logging request, measure API latency, adding missing header, processing header.
- concerns which are associated with incoming request, before we get into processing business logic on it.
- to register an Interceptor in MVC flow, we use `WebMvcConfigurer` interface.
- When `http://localhost:8080/simple/greet/samar` request came, order was -
  - `SimpleInterceptor: preHandle` org.apache.catalina.connector.RequestFacade@510cb46d
  - `SecondInterceptor: preHandle` org.apache.catalina.connector.RequestFacade@510cb46d
  - `Received request with path variable 'name' samar`
  - `SecondInterceptor: postHandle` org.apache.catalina.connector.RequestFacade@510cb46d
  - `SimpleInterceptor: postHandle` org.apache.catalina.connector.RequestFacade@510cb46d
- After adding `/result` path in `.excludePathPatterns()` for `SecondInterceptor` then once `http://localhost:8080/simple/result` request came, order was -
  - `SimpleInterceptor: preHandle` org.apache.catalina.connector.RequestFacade@6cba67d9
  - `Received result request`
  - `SimpleInterceptor: postHandle` org.apache.catalina.connector.RequestFacade@6cba67d9

### Q. Difference between @Controller and @RestController ?
- @RestController = @Controller + @ResponseBody

### Request-param vs path-variable
- Request-param may have optional fields but path-variable need to be filled mandatory in the URL.
- URL should be highly readable.
- large values in params is acceptable but not in path.

### Note:
- While dealing with Object serialization and deserialization of web request is an important aspect of web framework.
